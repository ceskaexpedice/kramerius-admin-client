<div class="app-object app-h-100">
  <div fxLayout="row" fxFlexFill fxLayoutAlign="center center" *ngIf="!correctPid()">
    <mat-card class="app-card app-view-border app-p-8" fxFlex="600px">
      <mat-card-content>
        <mat-form-field appearance="fill" class="app-mb-n4 app-w-100">
          <mat-label>{{ 'desc.enterTheUuidOfTheObject' | translate }}</mat-label>
          <input matInput [(ngModel)]="inputPid" placeholder="{{pid}}" (keyup.enter)="assignUuid()" type="text">
          <!-- <mat-error *ngIf="">
            Toto UUID je navalidní!
          </mat-error> -->
        </mat-form-field>
        <mat-error *ngIf="!!errorMessage">
          {{errorMessage}}
        </mat-error>
      </mat-card-content>
    </mat-card>
  </div>

  <div fxLayout="column" fxFlexFill *ngIf="correctPid()">
    <div class="app-topbar">
      <div class="app-breadcrumbs app-mb-4">
        <mat-icon class="material-icons-outlined app-mr-2">home</mat-icon>
        <a routerLink="/">home</a>
        <span class="app-separator">/</span>
        <a routerLink="/object">{{ 'navbar.object' | translate }}</a>
        <span class="app-separator">/</span>
        <span class="app-last">{{ getCurrentRoute('string') }}</span>
      </div>
      <div>
        <nav mat-tab-nav-bar>
          <a mat-tab-link (click)="changeView('other')" [active]="view == 'other'">
            <!-- TODO: rename, translate -->
            <mat-icon class="material-icons-outlined">settings</mat-icon>ostatní
          </a>

          <a mat-tab-link (click)="changeView('rights')" [active]="view == 'rights'">
            <mat-icon class="material-icons-outlined">admin_panel_settings</mat-icon>{{ 'tabnav.rights' | translate }}
          </a>
          <a mat-tab-link (click)="changeView('accessibility')" [active]="view == 'accessibility'">
            <mat-icon class="material-icons-outlined">accessibility</mat-icon>{{ 'tabnav.accessibility' | translate }}
          </a>
        </nav>
      </div>
    </div>
    <div fxFlex class="app-oh app-oa-y">
      <div class="app-container">

        <mat-card fxLayout="column" class="app-card app-view-border app-p-0">
          <app-rights *ngIf="view == 'rights'" [pid]="pid"></app-rights>
        </mat-card>

        <mat-card fxLayout="column" class="app-card app-view-border app-p-0">
          <div *ngIf="view == 'accessibility'">
            <!-- <ul>
              <li>TODO: dostupnost (public, private a změna)</li>
              <li>TODO: seznam licenci, odebrat licenci, pridat licenci</li>
              <li>TODO: sbírky (kontext), odebrání ze sbírky</li>
            </ul> -->
          </div>
        </mat-card>

        <mat-card fxLayout="column" class="app-card app-view-border app-p-0">
          <div *ngIf="view == 'other'">

            <div>
              <button mat-raised-button (click)="deleteObjectFromRepo()" color="primary">Smazat z repozitáře (jen
                objekt)</button>
            </div>
            <br>
            <div>
              <button mat-raised-button disabled (click)="deleteObjectTreeWithProcess()" color="primary">Naplánovat
                mazání stromu</button>
            </div>
            <br>
            <div>
              <button mat-raised-button (click)="indexObjectWithProcess()" color="primary">Naplánovat indexaci</button>
            </div>

            <!-- <ul>
              <li>TODO: export PDF?</li>
              <li>TODO: export FOXML?</li>
            </ul> -->
          </div>
        </mat-card>

      </div>
    </div>
  </div>
</div>