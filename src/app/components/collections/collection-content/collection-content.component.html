<mat-progress-bar mode="indeterminate" *ngIf="state=='loading'"></mat-progress-bar>
<mat-card class="app-view-rights app-view-hover item-collection app-cursor-pointer" *ngFor="let item of filterCollections(items)" [routerLink]="allowEdit(item['pid'])  ?  ['/collections', item['pid']] : null" [ngClass]="!allowEdit(item['pid']) ? 'app-not-allowed' : null" [matTooltip]="!allowEdit(item['pid']) ? ('alert.notAllowed' | translate) : null" [matTooltipClass]="!allowEdit(item['pid']) ? 'app-alert-not-allowed' : null">
	<mat-card-header fxLayout="row" fxLayoutGap="16px">
		<div *ngIf="getThumb(item['pid'])">
			<img [src]="getThumb(item['pid'])" />
		</div>
		<div fxFlex class="app-left">
			<mat-card-title>
				<mat-icon *ngIf="allowEdit(item['pid'])">link</mat-icon>{{ getName(item) }} <ng-container *ngIf="item['title.search'] != item['root.title']">({{ item['root.title'] }})</ng-container>
			</mat-card-title>
			<mat-card-subtitle>{{ getModel(item['model']) }}</mat-card-subtitle>
		</div>
		<div class="app-right app-actions">
			<a (click)="onRemoveItemFromCollection(collection.id, collection.getName(), item['pid'], getName(item)); $event.preventDefault(); $event.stopPropagation()" class="app-btn-warn" matTooltip="{{ 'button.removeFromThisCollection' | translate }}">
				<mat-icon>cancel</mat-icon>
			</a>
		</div>
	</mat-card-header>
</mat-card>
<mat-card class="app-view-rights app-view-hover" *ngFor="let item of filterNonCollections(items)" [ngClass]="{'item-collection':item['model'] == 'collection'}">
	<mat-card-header fxLayout="row" fxLayoutGap="16px">
		<div *ngIf="getThumb(item['pid'])">
			<img [src]="getThumb(item['pid'])" />
		</div>
		<div fxFlex class="app-left">
			<mat-card-title>{{ getName(item) }} <ng-container *ngIf="item['title.search'] != item['root.title']">({{item['root.title'] }})</ng-container></mat-card-title>
			<mat-card-subtitle>{{ getModel(item['model']) }}</mat-card-subtitle>
		</div>
		<div class="app-right app-actions">
			<a (click)="onRemoveItemFromCollection(collection.id, collection.getName(), item['pid'], getName(item)); $event.preventDefault(); $event.stopPropagation()" class="app-btn-warn" [matTooltip]="'button.removeFromThisCollection' | translate">
				<mat-icon>cancel</mat-icon>
			</a>
		</div>
	</mat-card-header>
</mat-card>