<form #f="ngForm" (ngSubmit)="schedule(f.value)">
    <mat-progress-bar class="progress-bar" *ngIf="inProgress" [mode]="progressBarMode" [value]="getProgress()">
    </mat-progress-bar>
    <!-- <h2 mat-dialog-title>{{ 'modal.scheduleRemoveLicense.title' | translate }}</h2> -->
    <h2 mat-dialog-title>Mazání stromů objektů</h2>
    <mat-dialog-content>
        <!-- <div class="app-desc app-mb-4" *ngIf="!fixed" [innerHtml]="'modal.scheduleRemoveLicense.messageNotFixed' | translate"></div> -->
        <div class="app-desc app-mb-4" *ngIf="!fixed">
            Pro každý vložený PID bude naplánován proces <i>Smazání stromu od PID</i>.<br>
            <br>
            Proces postupně smaže všechny objekty ve stromě od PID<sup>*</sup> a to z repozitáře i vyhledávacího indexu.
            <br>
            Dále proces synchronizuje data relevantních procesů, které smazání ovlivní s ohledem na licence a sbírky.
            <br>
            <sup>*</sup>Netýká se obsahu sbírek. Součástí mazání sbírky není rekurzivní mazání jejich položek.
            Protože položky sbírky nejsou vlastními potomky sbírky, sbírka na ně jen ukazuje.
            <br>
        </div>
        <!-- <div class="app-desc app-mb-4" *ngIf="fixed"
            [innerHtml]="'modal.scheduleRemoveLicense.messageFixed' | translate"></div> -->
        <div>
            <mat-form-field appearance="fill" class="app-w-100 app-download">
                <mat-label>{{fixed ? 'PID' : ('desc.pids' | translate) }}</mat-label>
                <textarea matInput type="text" id="inputPids" name="pids" autofocus [(ngModel)]="pids"
                    [placeholder]="('desc.insertPidsHere' | translate ) + '...'" [disabled]="inProgress || fixed"
                    required rows="{{fixed ? 1 : 4}}"></textarea>
                <mat-icon matSuffix (click)="onPidsFromFile()" [matTooltip]="'button.loadPidsFromFile' | translate"
                    *ngIf="!fixed" class="app-cursor-pointer">file_download</mat-icon>
            </mat-form-field>
            <input style="display: none;" #fileWithPids name="pf" type="file" (change)="onSelectFile($event)"
                accept=".txt" />
        </div>
        <div>
            <mat-form-field *ngIf="title" class="app-w-100">
                <input [disabled]="inProgress || fixed" matInput type="text" id="inputTitle" name="title"
                    [(ngModel)]="title" [placeholder]="'desc.name' | translate">
            </mat-form-field>
        </div>
    </mat-dialog-content>
    <mat-dialog-actions align="end">
        <button mat-flat-button [disabled]="inProgress || !isValid(f)" color="primary" type="submit">{{
            'button.schedule' | translate }}</button>
        <button mat-flat-button [disabled]="inProgress" mat-dialog-close="cancel">{{ 'button.cancel' | translate
            }}</button>
    </mat-dialog-actions>
</form>